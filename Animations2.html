<!DOCTYPE html>
<html>
    <head>
        <title>
           Hide show animation
        </title>
    </head>
    <body>
        <button onclick="hide('square');">Do it</button>
        <div id="square" style="height: 200px; width: 100%; background-color: gray; border-radius: 4px;">

        </div>
        
    </body>
    <script>
       function hide(element_id) {
            var x = document.getElementById(element_id);
            
            var animation_duration = 70;
            var animation_step = 0.1;

            if (x.style.display === "none") {
                var opacity = 0;

                x.style.display = "block";
                x.style.opacity = 0;
                var id = setInterval(frame, animation_duration);

                function frame() {
                    if (opacity >= 1) {
                    clearInterval(id);
                    x.style.display = "block";
                 
                    } else {
                    opacity+=animation_step;
                    x.style.opacity = opacity;
                    }
                   
                } 
            } else {
                var opacity = 1;
                var id = setInterval(frame, animation_duration);
                function frame() {
                    if (opacity < 0.1) {
                    clearInterval(id);
                    x.style.display = "none";
                    //document.getElementById("button_choose_confirm_deleting_wishes_container").style.display = "block";
                    } else {
                    opacity-=animation_step;
                    x.style.opacity = opacity;
                    //document.getElementById("button_choose_confirm_deleting_wishes_container").style.display = "block";
                    }
            }
    }
    }
    </script>
</html>